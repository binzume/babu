# Rubyistの感じるバブみ

プログラミングRuby[^1]は非常にバブれる言語です。

そもそも、プログラマがある言語のユーザであると自称するとき、
多かれ少なかれその言語に対する愛着や誇り、仲間意識などを持っています。
つまり、プログラマがナニナニ言語のプログラマですと自称した場合、
その人はその言語にバブみを感じているのです。

Rubyist[^2]は一般的にその愛着が**異常に**強いことでよく知られています。
つまりRubyistはRubyに非常に強いバブみを感じているわけで、
Rubyistは仕事中ずっとオギャりっぱなしと言っても過言ではありません。

果たして一体なにが大のおとなをそこまでオギャらせるのでしょうか。

[^1]: https://ruby-lang.org/
[^2]: Rubyを使う人

## 迷わせないという文化

Ruby世界には、Railsとともに**CoC**(Convention over configuration; 設定より規約)という考えが普及しました。
規約で強く制約することで。人間が考えなければならない無駄なことを徹底的に減らします。
Rubyistは特にめんどくさがりなので[^3]、
この無駄なことを考えて迷わなくていいというのは強いオギャリティーです。

Railsは例としてデカすぎるので、
Rubyのライブラリである**gem**を作る `bundle gem` コマンドを見てみましょう。

[^3]: 異常なほどのめんどくさがりがRubyと親和性が高いのかもしれない

## bundle gem コマンド

    $ bundle gem my_gem

でmy_gemディレクトリとファイルが作られます。
テストはどうする?とかライセンスはMITでいいよね?とか聞かれてオギャれます。

このようなファイルが作られます。

```
.
├── bin
│   ├── console
│   └── setup
├── Gemfile
├── lib
│   ├── my_gem
│   │   └── version.rb
│   └── my_gem.rb
├── LICENSE.txt
├── my_gem.gemspec
├── Rakefile
├── README.md
└── spec
    ├── my_gem_spec.rb
    └── spec_helper.rb
```

この状態で `my_gem.gemspec` のTODOを埋めさえすれば、

    $ rake release

でgemを公開できてしまいます[^4]。
どうだオギャれるだろう

`lib/my_gem.rb` を見てみましょう。

```ruby
require "my_gem/version"

module MyGem
  # Your code goes here...
end
```

お前のコードここに書けってもうお膳立てされてます。オギャれます。
それにモジュール名が**MyGem**になっています。
my_gemという名前のgemはMyGemというクラス名にしろという**デファクトスタンダード**を植え付けられます。バブいです。
`my_gem/version` を見ればコード分割の感覚がつかめます。

何も迷う部分がありません。すぐコードが書き始められます。
あぁ^?心がバブバブするんじゃぁ^

[^4]: 実際はmy_gemというgemはすでに存在するのでできないと思います

## npm と比較してみる

Node.jsのパッケージシステムの**npm**と比較してみます。

npmの場合、**自分でディレクトリを作って** `npm init` コマンドを叩きます。

    $ mkdir my_npm
    $ cd my_npm
    $ npm init

いろいろ聞かれますが、作られるのは

```
.
└── package.json
```

だけです。

いろいろ聞かれたのにこれだけです。
エントリーポイントはどこにする?って聞かれて**index.js**をデフォルトで選んでいるのに、**index.js**が作られません。
`index.js`を作ればいいんでしょうか
`index.js`から呼び出すファイルはどこに置くのか自分で決めないとダメなのでしょうか
テストはどうするの
ES6使いたいんだけどビルドはどうすればいいの
完全に荒野に放り出された感じです。
これでは全然オギャれません。

## まとめ

- 人間が無駄なことを考えなければならないシーンを徹底的に排除しよう。
- そのためには規約大事 デファクトスタンダード大事
